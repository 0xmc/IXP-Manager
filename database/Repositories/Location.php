<?php

namespace Repositories;

use Doctrine\ORM\EntityRepository;

use Entities\Location as LocationEntity;

/**
 * Location
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class Location extends EntityRepository
{
    /**
     * Return an array of all locations
     * @return array An array of all locations names with the location id as the key.
     */
    public function getAsArray(): array {
        $locations = [];
        foreach( $this->findAll() as $l ) {
            /** @var LocationEntity $l */
            $locations[$l->getId()] = [
                'id' => $l->getId(),
                'name' => $l->getName(),
                'shortname' => $l->getShortname(),
                'tag' => $l->getTag()
            ];
        }

        return $locations;
    }

}
