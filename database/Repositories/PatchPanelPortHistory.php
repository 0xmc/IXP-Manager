<?php

namespace Repositories;

use Doctrine\ORM\EntityRepository;

/**
 * Cabinet
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class PatchPanelPortHistory extends EntityRepository
{
    public function getAllPatchPanelPortHistories(int $pppId = null):array {
        $dql = "SELECT ppph
                FROM Entities\\PatchPanelPortHistory ppph
                WHERE ppph.patchPanelPort = $pppId
                AND ppph.duplexMasterPort IS NULL
                ORDER BY ppph.id DESC";

        $histories = $this->getEntityManager()->createQuery( $dql )->getResult();

        return $histories;
    }

}