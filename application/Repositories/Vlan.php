<?php

namespace Repositories;

use Doctrine\ORM\EntityRepository;

/**
 * Vlan
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class Vlan extends EntityRepository
{
    /**
     * Return an array of all VLAN names where the array key is the VLAN id (**not tag**).
     *
     * @return array An array of all VLAN names with the vlan id as the key.
     */
    public function getNames()
    {
        $arr = $this->getEntityManager()->createQuery(
                "SELECT v.id AS id, v.name AS name FROM Entities\\Vlan v"
            )
            ->useResultCache( true, 3600, 'inex_repo_vlan_get_names' )
            ->getResult();
    
        $vlans = [];
        foreach( $arr as $a )
            $vlans[ $a['id'] ] = $a['name'];
    
        return $vlans;
    }
    
}
